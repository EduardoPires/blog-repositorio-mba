@model BlogApp.Domain.Entities.Post

<h2>@Model.Title</h2>
<p>@Model.Content</p>

<h3>Comments</h3>
@foreach (var comment in Model.Comments)
{
    <p>@comment.Content - @comment.Author.FullName (@comment.CreatedAt.ToString("g"))</p>
}

@if (User.Identity.IsAuthenticated)
{
    <form asp-action="Create" asp-controller="Comment" method="post">
        <input type="hidden" name="postId" value="@Model.Id" />
        <textarea name="content" class="form-control" placeholder="Write your comment"></textarea>
        <button type="submit" class="btn btn-primary">Add Comment</button>
    </form>
}
else
{
    <p><a href="/Account/Login">Log in</a> to comment.</p>
}
